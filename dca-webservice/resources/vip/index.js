(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'");}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var VTMHelper={pageIds:{teIndex:"215",channelIndex:"216",
teList:"217",teDetail:"218",teCate:"221",teCateList:"222",teBrandDate:"220",dayIndex:"301",dayBrand:"302",dayDetail:"303",dayReady:"304",cartTeIndex:"501",cartTeError:"",checkoutTeIndex:"508",checkoutDayIndex:"",checkoutWaiting:"502",checkoutSuccess:"503",checkoutDayCODSuccess:"505",checkoutTeError:"",wwwGlobalHK:"701",listGlobalHK:"702",detailGlobalHK:"703"},init:function(pageId,pageData){window.VTM={wareHouse:$.Cookie.get("vip_wh"),sessionUser:{id:$.Cookie.get("VipRUID"),name:$.Cookie.get("VipRNAME")},
pageId:pageId,pageData:pageData||{}}}};module.exports=VTMHelper},{}],2:[function(require,module,exports){function isNativeFunc(func){return typeof func==="function"&&/^[^{]+\{\s*\[native \w/.test(func)}var _window=window,frame=_window.requestAnimationFrame||(_window.webkitRequestAnimationFrame||(_window.mozRequestAnimationFrame||(_window.oRequestAnimationFrame||_window.msRequestAnimationFrame))),supAsynImg=true;_window=null;function asynByImg(callback){var img=new Image;img.onload=img.onerror=img.onreadystatechange=
function(){img=img.onload=img.onerror=img.onreadystatechange=null;callback()};img.src="data:image/png,"}asynByImg(function(){supAsynImg=false});var asynFire=isNativeFunc(window.Promise)&&function(){var promise=Promise.resolve({then:function(callback){callback()}});return function(callback){promise.then(function(){callback()})}}()||(isNativeFunc(frame)&&function(callback){frame(callback)}||(supAsynImg&&asynByImg||function(){var _document=document,_body=_document.body,_src="data:text/javascript,",queue=
[];return function(callback){var script=_document.createElement("script");script.src=_src;queue[queue.length]=callback;script.onload=script.onerror=script.onreadystatechange=function(){script.onload=script.onerror=script.onreadystatechange=null;_body.removeChild(script);script=null;queue.shift()()};_body.appendChild(script)}}()));if(asynFire!==asynByImg)asynByImg=null;module.exports=asynFire},{}],3:[function(require,module,exports){var nsFav={ajaxUrl:{getSnCount:"//fav.vip.com/api/fav/brand/sn/count",
getSnList:"//fav.vip.com/api/fav/brand/sn/list",getScheduleList:"//fav.vip.com/api/fav/brand/sales/schedule/detail/list",getScheduleCount:"//fav.vip.com/api/fav/brand/sales/schedule/detail/count",getSnCollectCount:"//fav.vip.com/api/stats/brand/sn/count",addBrand:"//fav.vip.com/api/fav/brand/add",rmBrand:"//fav.vip.com/api/fav/brand/remove",updateRemindState:"//fav.vip.com/api/fav/brand/update",isFav:"//fav.vip.com/api/fav/brand/isfav",getSnDetailList:"//fav.vip.com/api/fav/brand/sales/detail/list",
getSnDetailCount:"//fav.vip.com/api/fav/brand/sales/detail/count",getSnDtlFavList:"//fav.vip.com/api/stats/brand/sn/detail/list"},ajaxData:{getSnCount:{business:"VIPSALES",_callback:"getSnCount"},getSnList:{business:"VIPSALES",cacheTime:60,_callback:"getSnList"},getScheduleList:{business:"VIPSALES",warehouse:"VIP_NH",cacheTime:60,_callback:"getScheduleList"},getScheduleCount:{business:"VIPSALES",warehouse:"VIP_NH",_callback:"getScheduleCount"},getSnCollectCount:{business:"VIPSALES",brand_sn_list:"",
_callback:"getSnCollectCount"},addBrand:{business:"VIPSALES",brand_sn:"",source:"PC",_callback:"addBrand"},rmBrand:{business:"VIPSALES",brand_sn:"",_callback:"rmBrand"},updateRemindState:{business:"VIPSALES",brand_sn:"",state:"",_callback:"updateRemindState"},isFav:{business:"VIPSALES",brand_sn_list:"",_callback:"isFav"},getSnDetailList:{business:"VIPSALES",warehouse:"VIP_NH",is_show_detail:"Y",cacheTime:60,_callback:"getSnDetailList"},getSnDetailCount:{business:"VIPSALES",warehouse:"VIP_NH",_callback:"getSnDetailCount"},
getSnDtlFavList:{business:"VIPSALES",brand_sn_list:"",cacheTime:60,_callback:"getSnDtlFavList"}},ajaxCb:{getSnCount:"successCb,errorCb",getSnList:"successCb,errorCb",getScheduleList:"successCb,errorCb",getScheduleCount:"successCb,errorCb",getSnCollectCount:"successCb,errorCb",addBrand:"successRmCacheCb,errorCb",rmBrand:"successRmCacheCb,errorCb",updateRemindState:"successCb,errorCb",isFav:"successCb,errorCb",getSnDetailList:"successCb,errorCb",getSnDetailCount:"successCb,errorCb",getSnDtlFavList:"successCb,errorCb"},
ajax:function(url,data,ajaxCb,par,cb,localName){var that=this;var ajaxCb=ajaxCb.split(",");var successCb=ajaxCb[0];var errorCb=ajaxCb[1];var cacheTime=data.cacheTime||0;var localData=that.storage.get(localName);if(!!cacheTime&&(localData&&successCb))that[successCb].apply(that,[localData,par,cb]);else $.ajax({url:url,data:data,timeout:data.timeout||6E3,dataType:"jsonp",jsonpCallback:data._callback,success:function(re){if(!!cacheTime)that.storage.set(localName,re,cacheTime);if(successCb&&re){var code=
re.code-0;var event;switch(code){case 200:event=localName+".doneSuccess";break;case 201:event=localName+".parWrong";break;case 202:event=localName+".collectFail";break;case 299:event="favBrand.handle.unLogin";break;default:event="favBrand.handle.serAbnormal";break}that.pub(event,re,par);that[successCb].apply(that,[re,par,cb])}},error:function(re){if(errorCb&&re){that.pub("favBrand.handle.serAbnormal",re,par);that[errorCb].apply(that,[re,par,cb])}}})},pub:function(pubName,re,par){var pubName=pubName;
$.Listeners.pub(pubName).success({data:re.data,code:re.code,par:par})},storage:{get:function(localName){var VipRUID=$.Cookie.get("VipRUID");var key=["fav",VipRUID,localName].join("_");var localData=$.Storage.get(key);return localData},set:function(localName,re,cacheTime){var VipRUID=$.Cookie.get("VipRUID");var key=["fav",VipRUID,localName].join("_");$.Storage.set(key,re,cacheTime)}},rmAjaxCache:function(){var VipRUID=$.Cookie.get("VipRUID");var ajaxData=this.ajaxData;var key;for(k in ajaxData){key=
["fav",VipRUID,k].join("_");$.Storage.remove(key)}},active:function(method,par,cb){switch(method){case "getSnCount":case "getSnList":case "getScheduleList":case "getScheduleCount":case "rmBrand":case "addBrand":case "getSnCollectCount":case "getSnDetailList":case "getSnDetailCount":case "updateRemindState":this.handle(par,cb,method);break;case "getSnCollectCount":case "isFav":case "getSnDtlFavList":par.brand_sn_list=this.handleSnList(par.brand_sn_list);this.handle(par,cb,method);break;default:VIPSHOP.log("method is not exist");
break}},handle:function(par,cb,localName){var ajaxData=this.ajaxData[localName];ajaxData=$.extend({},ajaxData,par);this.ajax(this.ajaxUrl[localName],ajaxData,this.ajaxCb[localName],par,cb,localName)},handleSnList:function(par){if(typeof par=="number"||typeof par=="string")return par+"";else if(Object.prototype.toString.call(par)=="[object Array]")return par.join(",")},successCb:function(re,par,cb){if(re)cb&&cb(re.code,re.data,re,par)},successRmCacheCb:function(re,par,cb){if(re){cb&&cb(re.code,re.data,
re,par);re.code==200&&this.rmAjaxCache()}},errorCb:function(re,par,cb){if(re)cb&&cb(re.code,re.data,re,par)}};module.exports=nsFav},{}],4:[function(require,module,exports){var list={},idPf=Math.random().toString(36).substr(2).substr(0,4)+"_",guid=1;function check(){var i,item,offset,left,top;for(i in list){item=list[i];offset=item.target.offset(),left=offset.left,top=offset.top;if(offset.left!==item.left||offset.top!==item.top){item.left=left;item.top=top;item.callback()}}}var offsetListener={interval:null,
addEvent:function(){var self=this;if(self.interval)self.removeEvent();self.interval=setInterval(function(){check()},300)},removeEvent:function(){clearInterval(this.interval);this.interval=null},add:function($target,callback){var offset,id;if(typeof $target==="object"&&($target.constructor===$&&typeof callback==="function")){offset=$target.offset();id=idPf+guid++;list[id]={target:$target,top:offset.top,left:offset.left,callback:callback};if(!this.interval)this.addEvent();return id}},remove:function(id){return delete list[id]},
destroy:function(){this.removeEvent();list={}}};module.exports=offsetListener},{}],5:[function(require,module,exports){var VTMHelper=require("../../plugins/modules/VTM"),userPhone=require("./modules/UserPhoneMod.js"),scrollMod=require("./modules/ScrollListener.js"),nsMyFavBrand=require("./modules/favBrandMod.js"),browserMod=require("./modules/browserMod.js"),responsiveMod=require("./modules/responsiveMod.js"),asynFire=require("../../shop/asynFire.js"),LazyDomHelper=require("./modules/Scroll/LazyDomHelper"),
nsUserAdSense=require("./modules/nsUserAdSense"),isIE6=VIPSHOP.Detect.isIE6;require("./modules/loadInView.js");var re_tag=/<\\?\/?[a-zA-Z]+\d?[^>]*?>/g;function stripTags(s){return s.replace(re_tag,"")}var getTmpData={init:function(){this.getScript()},getScript:function(){$.ajax({url:"http://www.vip.com/ajax/widget.php",data:{name:"tomorrowTmp,loginAddLikeTip,newUserBrandTmp,newDialogAd,onsaleNotice,ipadApp,newCouponPop,newUserTmp,subscribeTemplate,cookieTipsTpl,shopIndexTime"},dataType:"json",success:function(re){var data=
re.data;$.Listeners.pub("indexTmp.get.success").success(data)},error:function(){}})}};var nsBrandList={jqWin:null,winHeight:0,brandItems:{},tmpData:{},brandCD:"",floorFlag:{},onScrollBrand:{"flag":true,"floorId":0},init:function(){var _this=this;_this.jqWin=$(window);_this.winHeight=this.jqWin.height();$.Listeners.sub("actLDconfig").onsuccess(function(){$.Listeners.sub("indexTmp.get.success").onsuccess(function(data){$("body").append(data["tomorrowTmp"]);nsBrandList.lazyLoadDom()})});!!window.actLDconfig||
$.Listeners.sub("indexTmp.get.success").onsuccess(function(data){$("body").append(data["tomorrowTmp"]);nsBrandList.lazyLoadDom()});nsBrandList.brandCD=nsBrandList.getItems();if(readyBrandNum<=0)$("#J_shopUnsale").hide();nsBrandList.jqWin.on("resize",function(){nsBrandList.winHeight=$(this).height()})},isDomInView:function(dom,cb){var jqWin=nsBrandList.jqWin;var scrollTop=jqWin.scrollTop();var scrollEnd=jqWin.scrollTop()+this.winHeight;var domScrollTop=dom.offset().top;if(scrollTop<domScrollTop&&domScrollTop<
scrollEnd)cb(dom)},loadItems:function(fragment){$.Listeners.unsub("interval.1000").success(nsBrandList.brandCD);nsBrandList.brandCD=nsBrandList.getItems(fragment)},getItems:function(fragment){var _this=this;$(".J_time_icon",fragment).each(function(i,n){var jqN=$(n);var key=jqN.attr("class").match(/\d+/)[0];nsBrandList.brandItems[key]=nsBrandList.brandItems[key]||jqN;nsBrandList.brandItems[key]=nsBrandList.brandItems[key].add(jqN)});return $.Listeners.sub("interval.1000").onsuccess(function(){var _window=
window,countDown=VIPTE.countDown,key,_fn_CountDown=VIPSHOP.Time.fn_countDown,rt;var jqWin=$(_window);var scrollTop=jqWin.scrollTop();var scrollEnd=jqWin.scrollTop+jqWin.height();for(key in countDown){rt=_fn_CountDown(key);if(nsBrandList.brandItems[key]){nsBrandList.brandItems[key].each(function(i,n){var jqN=$(n);nsBrandList.isDomInView(jqN,function(jqN){jqN.html("<i>"+_this.timeProcess(rt)+"</i>")})});nsBrandList.brandItems[key]}}})},timeProcess:function(rt){rt.day=parseInt(rt.day);rt.hour=parseInt(rt.hour);
rt.min=parseInt(rt.min);rt.sec=parseInt(rt.sec);if(rt.day){if(rt.hour||(rt.min||rt.sec))++rt.day;return"\u5269"+rt.day+"\u5929"}if(!rt.day&&rt.hour){if(rt.min||rt.sec)++rt.hour;return"\u5269"+rt.hour+"\u65f6"}if(!rt.day&&(!rt.hour&&rt.min)){if(rt.sec)++rt.min;return"\u5269"+rt.min+"\u5206"}if(!rt.day&&(!rt.hour&&(!rt.min&&rt.sec))||!rt.day&&(!rt.hour&&(!rt.min&&!rt.sec)))return"\u52691\u5206"},getLdOptions:function(name,data){var nums=$(window).width()>978?3:2,hash={ready:{node:"#J_comingBrandList",
template:"#J_wrap_tomorrow_template",height:254,numsPerRow:nums}},asynBdataConfig=VIPTE.asynBdataConfig;for(var i in asynBdataConfig){if(i=="ready")continue;hash[i]={node:"#J-floorBrandList-"+asynBdataConfig[i],template:"#J_wrap_today_template",height:180,numsPerRow:2}}if(hash[name]){hash[name].data=data;return hash[name]}else return null},lazyDomCb:function(fragment){this.loadItems(fragment);$.Listeners.pub("index_pms").success();nsMyFavBrand.liked_action()},lazyLoadDom:function(){var _this=this,
lazyDomConfig=window.actLDconfig||[],data=VIPTE.brandData,ready=data.ready;var lazyDomOptDefault={method:"fromToTop",allData:lazyDomConfig,preRender:4,renderCb:function(node,fragment){_this.lazyDomCb(fragment)},finishEvent:function(){_this.addEvent();_this.bindEvent();setTimeout(function(){_this.floorPos()},1E3)}};var lazyDomOpt=window.actLazyDomOpt?$.extend(lazyDomOptDefault,actLazyDomOpt):lazyDomOptDefault;if(lazyDomConfig.length)$(window).lazyDom(lazyDomOpt);else{_this.addEvent();_this.bindEvent();
setTimeout(function(){_this.floorPos()},1E3)}},addEvent:function(){var _this=this,asynBdataConfig=VIPTE.asynBdataConfig,asycLDconfig=this.asycLDconfig,$J_floorBrandList=$(".J-floorBrandList"),floorLen=$J_floorBrandList.data("length"),navList=$("#J-index-nav-list a"),floorHeight,floorObj,i,j;if($("#J-hotSale-floor").length>0)new LazyDomHelper({$dom:$("#J-hotSale-floor"),loadingFn:function(self){if(_this.onScrollBrand.flag)if(self.pos){var J_index_nav_floor="#J-index-nav-"+self.config.$dom.data("flag");
navList.removeClass("curr");$(J_index_nav_floor).addClass("curr")}}});if(!$.isEmptyObject(asynBdataConfig))for(i in asynBdataConfig){_this.asycLDconfigFun();if(i=="ready")floorObj="#J_coming_wrap";else floorObj="#J-index-floor"+asynBdataConfig[i];(function(floor){return new LazyDomHelper({$dom:$(floorObj),preHeight:500,loadingFn:function(self){if(_this.onScrollBrand.flag){if(self.pos){var J_index_nav_floor="#J-index-nav-"+self.config.$dom.data("flag");navList.removeClass("curr");$(J_index_nav_floor).addClass("curr")}if(_this.floorFlag[floor])return;
_this.floorFlag[floor]=true;_this.asynlazyDom(floor)}else{var floorFlag=_this.onScrollBrand.floor;_this.onScrollBrand.flag=true;if(_this.floorFlag[floorFlag])return;_this.floorFlag[floorFlag]=true;_this.asynlazyDom(floorFlag)}}})})(i)}},bindEvent:function(){var _this=this;$(window).on("scroll.indexFloor",function(){setTimeout(function(){_this.floorPos()},300)});$(document).on("click","#J-index-nav-list a",function(){var $this=$(this),$window=$(window),thisFlag=$this.data("flag"),J_floor="#J-index-"+
thisFlag,thisObj=null;$("#J-index-nav-tips").hide();$("#J-index-nav-list a").removeClass("curr");$this.addClass("curr");switch(thisFlag){case "ready":thisObj=$("#J_coming_wrap");break;case "hotSale":thisObj=$("#J-hotSale-floor");break;default:thisObj=$(J_floor);break}$window.scrollTop(thisObj.offset().top-48);_this.onScrollBrand.flag=false;_this.onScrollBrand.floor=thisFlag});$(document).on("click","#J-index-nav-tips-close",function(){$("#J-index-nav-tips").hide()})},warnUsers:function(){var floorTips=
$.Storage.get("vip_index_v5_floor_tips");if(!floorTips&&$(document.body).outerWidth()>1024){var $J_index_nav_tips=$("#J-index-nav-tips");$J_index_nav_tips.show();setTimeout(function(){$J_index_nav_tips.fadeOut()},15E3);$.Storage.set("vip_index_v5_floor_tips","1")}},floorPos:function(){var _this=this,eTop=$(".J-index-floor").eq(0).offset().top,winTop=$(window).scrollTop(),winHeight=$(window).height(),$J_index_nav_sort=$("#J-index-nav-sort");if(eTop<=winTop+48){$J_index_nav_sort.fadeIn("slow");$(window).off("scroll.indexAdsade");
$.Listeners.pub("index.get.leftAdsade").success({open:0});_this.hideFloor=false;_this.warnUsers()}else{$J_index_nav_sort.fadeOut("slow");$.Listeners.pub("index.get.leftAdsade").success({flag:_this.hideFloor,open:1});_this.hideFloor=true}},asycLDconfigFun:function(){var _this=this,asynBdataConfig=VIPTE.asynBdataConfig,length=asynBdataConfig.length;for(i in asynBdataConfig){if(i=="ready")continue;var name="floor"+asynBdataConfig[i],node="#J-index-floor"+asynBdataConfig[i];_this.asycLDconfig[i]={name:name,
node:node,act:"getSellingBrandListV5",part:"floor",ids:asynBdataConfig[i]}}},asycLDconfig:{ready:{name:"ready",node:"#J_comingBrandList",act:"getReadyBrandList",page:1,pageSize:21,total:null}},loadNormalData:function(act,part,page,pageSize,curFloorIndex,callback){var _this=this,vipteIndex=VIPTE.INDEX,u,urlParam=VIPSHOP.queryStringToJSON(),param={act:act,warehouse:O_query.warehouse,areaCode:$.Cookie.get("vip_province"),channelId:O_query.channelId,pagecode:urlParam["page_code"]||$.Cookie.get("user_class"),
sortType:vipteIndex.preview_sortType,part:part,page:page,pagesize:pageSize,province_name:$.Cookie.get("vip_province_name"),city_name:$.Cookie.get("vip_city_name"),preview:vipteIndex.preview,sell_time_from:vipteIndex.preview_date_from,time_from:vipteIndex.preview_time_from};_this.loadN=true;if(urlParam.brand!==u)param.brand=urlParam.brand;if(urlParam.brandsn!==u)param.brandsn=urlParam.brandsn;if(urlParam.b_rank!==u)param.b_rank=urlParam.b_rank;$.ajax({url:"http://www.vip.com/index-ajax.php",data:param,
dataType:"json",timeout:6E3,success:function(re){callback(re);_this.loadN=false},error:function(){_this.floorFlag[curFloorIndex]=false;_this.loadN=false;VIPSHOP.log("\u5f02\u6b65\u52a0\u8f7d\u6863\u671f\u6570\u636e\uff0c\u8bf7\u6c42\u5931\u8d25!")}})},loadFloorData:function(id,curFloorIndex,callback){var _this=this,vipteIndex=VIPTE.INDEX,urlParam=VIPSHOP.queryStringToJSON(),param={act:"getSellingBrandListV5",warehouse:O_query.warehouse,areaCode:$.Cookie.get("vip_province"),channelId:O_query.channelId,
ids:id,pagecode:urlParam["page_code"]||$.Cookie.get("user_class"),sortType:vipteIndex.preview_sortType,province_name:$.Cookie.get("vip_province_name"),city_name:$.Cookie.get("vip_city_name"),preview:vipteIndex.preview,sell_time_from:vipteIndex.preview_date_from,time_from:vipteIndex.preview_time_from};$.ajax({url:"http://www.vip.com/index-ajax.php",data:param,dataType:"json",timeout:6E3,success:function(re){callback(re)},error:function(){_this.floorFlag[curFloorIndex]=false;VIPSHOP.log("\u5f02\u6b65\u52a0\u8f7d\u6863\u671f\u6570\u636e\uff0c\u8bf7\u6c42\u5931\u8d25!")}})},
dataProcess:{linkParamAdd:function(){var obj=VIPSHOP.queryStringToJSON();if(obj.v)return"?f="+obj.v;return""}(),floor:function(list){var i=0,len=list.length,item,rItem,result=[],countDown=VIPTE.countDown,isAllowAddFavorite=VIPTE.isAllowAddFavorite;for(;i<len;i++){item=list[i];rItem=result[i]={};countDown[item["display_endtime"]]=1;rItem["recoModule"]=item["brand_expose"];rItem["id"]=item["id"];rItem["img"]=item["mobile_image_one"];rItem["discount"]=item["discount"];rItem["name"]=item["name"];rItem["end_time"]=
item["display_endtime"];rItem["brand_store_sn"]=item["brand_store_sn"];rItem["brand_expose"]=item["brand_expose"];if(item["special_banner"]=="0")rItem["special_banner"]={"id":item["id"],"vendor_sale_message":item["vendor_sale_message"],"discount":item["discount"],"isHidden":item["vendor_sale_message"]?"":"hidden","hasPms":item["vendor_sale_message"]?"J-info-pms":""};if(item["special_banner"]=="0"&&!item["is_forever"])rItem["isEndTime"]={"end_time":item["display_endtime"]};if(isAllowAddFavorite=="1"&&
(item["special_banner"]=="0"&&item["brand_store_sn"]))rItem["keep_brand"]={"brand_store_sn":item["brand_store_sn"]};if(!$.isEmptyObject(item["icon_img"])&&item["icon_img"][0]["icon_image"])rItem["isITip"]={"i_tip":item["icon_img"][0]["icon_image"]};rItem["link"]=$.isEmptyObject(item["redirect"])?'href="'+item["link"]+this.linkParamAdd+'"':'href="'+item["link"]+'"'}return result},ready:function(list,index){var i=0,len=list.length,item,rItem,result=[],re=/\/story\.php\?brandId\=/,isAllowAddFavorite=
VIPTE.isAllowAddFavorite;for(;i<len;i++){item=list[i];rItem=result[i]={};rItem["recoModule"]="index_tomorrow_"+item["id"]+"_"+index++;rItem["id"]=item["id"];rItem["img"]=item["mobile_image_one"];rItem["discount"]=stripTags(item["discount"]);rItem["name"]=item["name"];rItem["brand_store_sn"]=item["brand_store_sn"];if(isAllowAddFavorite=="1"&&item["brand_store_sn"])rItem["keep_brand"]={"brand_store_sn":item["brand_store_sn"]};if(item["is_warmup"]==="1"){rItem["href"]='href="http://list.vip.com/'+item["id"]+
'.html"';rItem["isWarmup"]=["1"];rItem["target"]='target="_blank"'}else rItem["href"]='href="javascript:;"';rItem["isHidden"]=item["vendor_sale_message"]?"":"hidden";rItem["vendor_sale_message"]=item["vendor_sale_message"];rItem["hasPms"]=item["vendor_sale_message"]?"J-info-pms":""}return result}},createDom:function(dataObj,cb){var node=$(dataObj.node),htmlArr=[],tempInstance=$.Template({templateElement:$(dataObj.template),replace:null});for(var j=0,jLen=dataObj.data.length;j<jLen;j++){var html=tempInstance.process(dataObj.data[j]);
htmlArr.push(html)}var fragment=$(htmlArr.join(""));node.append(fragment);cb(node,fragment);if(typeof $.fn.lazyload=="function")fragment.find("img.lazy").lazyload({threshold:200,failure_limit:10});dataObj=null},asynlazyDom:function(curFloorIndex){var _this=this,curItem=_this.asycLDconfig[curFloorIndex],_window=window,_screen=_window.screen,orientation=_window.orientation;if(!curItem)return;curItem.part=="floor"?_this.asynFloorLazy(curItem,curFloorIndex):_this.asynNormalLazy(curItem,curFloorIndex)},
asynFloorLazy:function(curItem,curFloorIndex){var _this=this,id=curItem.ids;this.loadFloorData(id,curFloorIndex,function(re){var lDdata,data=re.data.floors[id];if(re.code!==200){setTimeout(function(){_this.asynlazyDom(curFloorIndex)},2E3);return}if(data&&data.items.length){lDdata=_this.dataProcess["floor"](data.items);$("#J-index-"+curFloorIndex).find(".J-floorBrandList").html("");_this.createDom(_this.getLdOptions(curItem.name,lDdata),function(node,fragment){_this.lazyDomCb(fragment)})}})},asynNormalLazy:function(curItem,
curFloorIndex){var _this=this;_this.floorFlag[curFloorIndex]=false;if(_this.loadN)return;this.loadNormalData(curItem.act,curItem.name,curItem.page,curItem.pageSize,curFloorIndex,function(re){var lDdata,data=re.data;if(re.code!==200){setTimeout(function(){_this.asynlazyDom(curFloorIndex)},2E3);return}curItem.total=data.pageCount;if(curItem.page===curItem.total)_this.floorFlag[curFloorIndex]=true;if(re.data.items.length){lDdata=_this.dataProcess[curItem.name](data.items,curItem.page-1?(curItem.page-
1)*curItem.pageSize+1:1);_this.createDom(_this.getLdOptions(curItem.name,lDdata),function(node,fragment){_this.lazyDomCb(fragment)})}curItem.page++})}};var nsPreciseProduct={url:"http://www.vip.com/index-ajax.php",preciseInfo:null,triggerObj:null,isPrecise:VIPTE.INDEX.isPrecise,favData:{},init:function(){if(!this.isPrecise)return;var id=[],$J_hotSale_item=$(".J-hotSale-item");$J_hotSale_item.each(function(i,n){id.push($(n).data("id"))});this.getScript(id.join(","));this.bindEvent();this.subEvent()},
subEvent:function(){var _this=this;$.Listeners.sub("index.get.preciseProductInfo").onsuccess(function(re){if(_this.triggerObj)_this.renderData({data:re,thisObj:_this.triggerObj})});$.Listeners.sub("index.handle.preciseProductInfo").onsuccess(function(re){_this.renderData(re)});$.Listeners.sub("favBrand.get.asyn").onsuccess(function(data){var data=data.data,len=data.length;for(var i=0;i<len;i++)_this.favData[data[i]]="1"})},renderData:function(re){var thisObj=re.thisObj,thisId=thisObj.data("id"),thisBrandsn=
thisObj.data("brandsn"),thisLink=thisObj.data("link"),data=re.data.list[thisId],product=null,J_hotSale_hover="#J-hotSale-hover-"+thisId;for(var i=0,len=data["items"].length;i<len;i++)data["items"][i]["link"]=thisLink;product=$.Template({templateElement:$("#J-preciseProducts-template"),replace:null}).process(data);$(J_hotSale_hover).html(product).closest(".J-hotSale-hover").removeClass("ii-loading-pink-32x32");if(this.favData[thisBrandsn])thisObj.find("span.J_myFavBrand_"+thisBrandsn).addClass("z-fav-liked")},
bindEvent:function(){var _this=this;$(document).on("mouseenter",".J-hotSale-item",function(){var $this=$(this);_this.triggerObj=$this;if(_this.preciseInfo){var J_hotSale_hover="#J-hotSale-hover-"+$this.data("id");if($(J_hotSale_hover).find("a").length==0)$.Listeners.pub("index.handle.preciseProductInfo").success({data:_this.preciseInfo,thisObj:$this});else{var favTag=$this.find("span.J_myFav_tag"),brandsn=favTag.data("sn");if(_this.favData[brandsn])favTag.addClass("z-fav-liked")}}else{if(_this.preciseFlag)return;
var id=[],$J_hotSale_item=$(".J-hotSale-item");$J_hotSale_item.each(function(i,n){id.push($(n).data("id"))});_this.getScript($this,id.join(","))}}).on("mouseleave",".J-hotSale-item",function(){_this.triggerObj=null})},getScript:function(bids){var _this=this;_this.preciseFlag=true;$.ajax({url:_this.url,data:{act:"getCommendMutipleMerchandiseList",bids:bids,pagecode:$.Cookie.get("user_class")},dataType:"jsonp",jsonp:"callback",jsonpCallback:"preciseProduct",success:function(re){_this.preciseInfo=re;
_this.preciseFlag=false;$.Listeners.pub("index.get.preciseProductInfo").success(re)},error:function(){_this.preciseFlag=false;VIPSHOP.log("\u5f02\u6b65\u52a0\u8f7d\u6863\u671f\u6570\u636e\uff0c\u8bf7\u6c42\u5931\u8d25!")}})}};var subStorage={};var nsSubscribe={leftPosition:0,isSubmit:false,checkMail:/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,checkPhone:/^1[3458][0-9]\d{4,8}$/,isVipday:false,init:function(){this.specialEvent();this.commonEvent()},specialEvent:function(){var self=
this;$("#J_comingBrandList").on("mouseenter",".J_unsale",function(){var $this=$(this),$input=$this.find(".J_subscribe_text"),id=$this.data("id");if(self.getStorage()[id])$this.find(".J_book_sub").html("\u5df2\u8ba2\u9605").attr("disabled","disabled").addClass("book-notice-btn-done");userPhone.tips($input)}).on("mouseleave",".J_unsale",function(){$(this).find(".J_book_warm").removeClass("z-ui-tooltips-in")})},commonEvent:function(){$(document).on({focus:function(e){var $target=$(e.target);if($target.hasClass("J_subscribe_text"))$target.click(function(e){e.preventDefault()});
var val=$(this).val();if(nsSubscribe.isSubmit||(val=="\u8bf7\u8f93\u5165\u90ae\u7bb1\u6216\u624b\u673a\u53f7\u7801"||(val=="\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"||val=="")))$(this).val("")},keydown:function(){$(this).parent().siblings(".J_book_warm").removeClass("z-ui-tooltips-in")},blur:function(){var that=$(this);if(that.val()=="")if(that.data("act")=="isVipDay")that.val("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801");else that.val("\u8bf7\u8f93\u5165\u90ae\u7bb1\u6216\u624b\u673a\u53f7\u7801")}},
"input[name=email-phone]");$(document).on("submit",".J_book_form",function(e){e.preventDefault();var that=$(this);var input=that.find("input[name=email-phone]");var warm=that.find(".J_book_warm");var value=input.val();var isVipday=nsSubscribe.isVipday=that.data("act")=="isVipDay"?true:false;var id=that.data("id");var $parent;$parent=$("#J_subWrap_"+id);if(value==""||value=="\u8bf7\u8f93\u5165\u90ae\u7bb1\u6216\u624b\u673a\u53f7\u7801"){warm.addClass("z-ui-tooltips-in");input.val("").focus()}else if(nsSubscribe.checkMail.test(value)&&
!isVipday)nsSubscribe.ajax(2,that.find("input[name=brandId]").val(),value);else if(nsSubscribe.checkPhone.test(value)&&value.length==11)nsSubscribe.ajax(1,that.find("input[name=brandId]").val(),value);else{warm.addClass("z-ui-tooltips-in");nsSubscribe.isSubmit=true}}).on("click",".J_pop_subscribeClose",function(){$(".J_subscribe_container").hide()})},ajax:function(type,id,val){var jsonpUrl="http://myopen.vip.com/my/email/subscribe";var data={warehouse:O_query.warehouse,brands:[id],businessType:1};
var typeVal=type==1?{phone:val}:{email:val};var visitVal={visitSource:5};var $parent=$("#J_subWrap_"+id);data=$.extend({},data,typeVal,visitVal);$.ajax({url:jsonpUrl,data:data,dataType:"jsonp",success:function(data){$.Listeners.sub("indexTmp.get.success").onsuccess(function(reIndex){$(".J_subscribe_wraper").hide();var subscribeBox,leftPosition=nsSubscribe.leftPosition;subscribeBox=$("#J_subscribe_box_"+id);var callbackText="";if(data["status"]=="1"){nsSubscribe.setStorage(id);callbackText=reIndex["subscribeTemplate"].replace("{$callbackText}",
subscribe_txt[0]);$parent.find(".J_book_sub").html("\u5df2\u8ba2\u9605").attr("disabled","disabled").addClass("book-notice-btn-done")}else if(nsSubscribe.isVipday)callbackText=reIndex["subscribeTemplate"].replace("{$callbackText}",data["msg"]);else callbackText=reIndex["subscribeTemplate"].replace("{$callbackText}",subscribe_txt[1]);subscribeBox.html(callbackText).show().find(".J_subscribe_wraper").addClass("z-ui-dialog-in")})}})},setStorage:function(id){subStorage[id]=1},getStorage:function(){return subStorage}};
var nsAdsMod={bannerTrigger:0,init:function(){var that=this;$.Listeners.sub("slideBanner").onsuccess(function(data){that.slideBanner(data)})},slideBanner:function(data){var _this=this;if(data&&(data.slideList&&(data.slideList.items&&data.slideList.items.length>0))){var target="",buttons=[],list=data.slideList;for(var i=0,len=list.items.length;i<len;i++){if(!!list.items[i].link){target=list.items[i].blank?' target="_blank"':"";list.items[i].link=' href="'+list.items[i].link+'"'+target}else list.items[i].link=
' href="javascript:;" class="no_link"';buttons.push('<li class="selected">'+list.items[i].name+"</li>")}$("#J_slideBanner_wrap").Template({templateElement:$("#J_slidebaner_tmp"),replace:true}).Template("process",data).show();if(list.items.length==1){var fbcontheight=$("#J-focus-banner-con").height();$("#J-focus-banner-con").addClass("single-banner-style");var lazyObj=$("#J_slideBanner_wrap").find("img.switchable-lazy");lazyObj.attr("src",lazyObj.data("original")).removeClass("switchable-lazy");$("#J-trigger-line").closest(".fbc-trigger").remove()}if(list.items.length>
1){$("#J_slideBanner_btns").show().html(buttons.join(""));var $J_slideBanner_btns=$("#J_slideBanner_btns"),eLeft=$J_slideBanner_btns.offset().left;$(window).on("resize.slideBanner",function(){setTimeout(function(){eLeft=$J_slideBanner_btns.offset().left;if(_this.bannerTrigger){var $J_trigger_line=$("#J-trigger-line"),tLeft=_this.bannerTrigger.offset().left,dtLeft=tLeft-eLeft;$J_trigger_line.css({left:dtLeft})}},300)}).trigger("resize");$("#J_slideBanner_wrap").Switchable({"panelCls":"#J_slideBanner_panel",
"triggerCls":"#J_slideBanner_btns","pervCls":"#J_slidebaner_left","nextCls":"#J_slidebaner_right","effect":"fade","activeCls":"selected","trigger":"over","delay":300,"autoPlay":true,"interval":5E3,"switchEvent":function(index,trigger,panel){var $J_trigger_line=$("#J-trigger-line"),tLeft=trigger.offset().left,dtLeft=tLeft-eLeft;$J_trigger_line.animate({left:dtLeft});_this.bannerTrigger=trigger}})}else $("#J_slidebaner_left, #J_slidebaner_right, #J_slideBanner_btns").remove()}return this}};var nsVouchers=
{init:function(){var _this=this,voucher=$.Cookie.get("voucher");if(!voucher||voucher=="-1")return;var voucherMarks=voucher.split("|"),btnNum=voucherMarks[0],actId=voucherMarks[1],time=voucherMarks[2].split("@"),startTime=time[0],endTime=time[1],openWeibo=voucherMarks[3];var now=+new Date;if(now<=endTime&&now>=startTime)$.Listeners.sub("indexTmp.get.success").onsuccess(function(reIndex){_this.voucherDg=$.Dialog({size:[500],content:reIndex["newCouponPop"],model:true,opacity:0.5,showEvent:function(){$("#J_actPop_pic").attr("src",
$("#J_actPop_pic").data("src")+"?"+VIPSHOP.specialVer);if(btnNum=="1")$("#J_popOneBtn").show();else{$("#J_popTwoBtn").show();var link="http://act.vip.com/"+actId+".html",actLinkBtn=$("#J_actLinkBtn"),img=actLinkBtn.find("img");actLinkBtn.attr("href",link);img.attr("src",img.data("src")+"?"+VIPSHOP.specialVer)}openWeibo=="1"&&($("#J_popWeiboBtn").show()&&$("#J_popWeiboBtn").html('<iframe width="100%" scrolling="no" height="24" frameborder="0" src="http://widget.weibo.com/relationship/followbutton.php?btn=red&amp;style=3&amp;uid=1589698103&amp;width=100%&amp;height=24&amp;language=zh_cn" marginheight="0"></iframe>'))},
closeEvent:function(){this.destroy()}});_this.voucherDg.open();$.Cookie.set("voucher","-1",".vip.com","/",720)});_this.bindEvent()},bindEvent:function(){var _this=this;$("body").delegate("a.J_newCouponPop_close","click",function(){_this.voucherDg.destroy()})}};var nsVIPCOM={init:function(){if(!navigator.cookieEnabled)$.Listeners.sub("indexTmp.get.success").onsuccess(function(reIndex){$("body").prepend(reIndex["cookieTipsTpl"]);$(".J-cookie-tips-wrap").css({"display":"block","position":"relative",
"zIndex":"2000"})})}};var nsPms={pmsData:{},init:function(){if(window.appShopSpecialPrice<2)return false;if(window.actPmsIndexData){$.Listeners.sub("actPmsIndexData").onsuccess(function(re){nsPms.pmsData=re.data;$.Listeners.pub("index_pms").success()});return false}else nsPms.getPmsData();$.Listeners.sub("index_pms").onsuccess(function(){nsPms.render()})},getPmsData:function(){var userType=UINFO.parseCookie()["luc"],userLevel=$.Cookie.get("VipMonopoly");userLevel=userLevel==""?"":"V"+userLevel;$.ajax({url:"http://pms.vip.com/tips_index.php",
data:{vipclub:1,device:1,customerlevel:userLevel,warehouse:$.Cookie.get("vip_wh"),customersrc:userType,preview:VIPTE.INDEX["preview"],date_from:VIPTE.INDEX["preview_date_from"],time_from:VIPTE.INDEX["preview_time_from"]},jsonp:"callback",jsonpCallback:"activetips",dataType:"jsonp",cache:true,timeout:8E3,success:function(data){nsPms.pmsData=data;$.Listeners.pub("index_pms").success()}})},render:function(){var pmsData=nsPms.pmsData.active,pmsArr=["#J_pms_","#J_hotSale_pms_"];function handleDom(thisObj,
msg){thisObj.attr("title",msg).addClass("J-info-pms").html(msg).removeClass("hidden")}for(var item in nsPms.pmsData.active)$(pmsArr).each(function(k,n){var $n=$(n+item);if($n.length>0)handleDom($n,pmsData[item].msg)});if(!!nsPms.pmsData.special&&nsPms.pmsData.special.length>0){var pmsSpecial=nsPms.pmsData.special;for(var i=0;i<pmsSpecial.length;i++)$(pmsArr).each(function(k,n){var $n=$(n+pmsSpecial[i].brand_id);if($n.length>0&&!$n.hasClass("J-info-pms"))handleDom($n,pmsSpecial[i].msg)})}}};var nsFloatNav=
{$floatNav:null,$header:null,_top:-45,eventId:null,init:function(){if(isIE6||typeof gatMark!="undefined")return;$("body").append($("#J-indexFnavTpl").html());this.$floatNav=$("#J_indexFloatNav");this.$header=$(".header");this.addEvent()},addEvent:function(){var self=this;self.eventId=scrollMod.add(function(data){self.determine(data.y,data.down)})},removeEvent:function(){scrollMod.reomve(this.eventId)},determine:function(y,down){var $header=this.$header,min=$header.offset().top+$header.outerHeight();
if(y>min)this.$floatNav.css({top:0});else this.$floatNav.css({top:this._top})}};var nsFavTips={init:function(){var isTipBar=$("#J-shop-favtips-bar").length,_this=this;if(!isTipBar)return;_this.bindEvent()},bindEvent:function(){var _this=this,submitBtn=$("#J-myfav-category-submit");$("#J-choose-category").on("click",function(){$(this).closest(".ui-form-item-group").toggleClass("z-ui-dropdown-open")});$("#J-dropdown-classification li").on("click",function(){$("#J-choose-category a").attr("_category",
$(this).attr("_category")).attr("title",$(this).find("a").html()).html($(this).find("a").html());$("#J-dropdown-classification").closest(".ui-form-item-group").removeClass("z-ui-dropdown-open");if(submitBtn.hasClass("ui-btn-disable"))submitBtn.removeClass("ui-btn-disable")});$("#J-myfav-brand").on("keydown",function(){if(submitBtn.hasClass("ui-btn-disable"))submitBtn.removeClass("ui-btn-disable")}).on("keyup",function(){if($(this).val()==""&&$("#J-choose-category a").attr("_category")=="")submitBtn.addClass("ui-btn-disable")});
$(document).on("click",function(e){var target=$(e.target);if(!target.closest(".ui-form-item-group").length)$("#J-dropdown-classification").closest(".ui-form-item-group").removeClass("z-ui-dropdown-open")});$("#J-myfav-category-submit").on("click",function(){if($.Cookie.get("VipLID")){if(!_this.checkBrand())return;_this.submitFav($("#J-choose-category a").attr("_category"),$("#J-myfav-brand").val())}else location.href=VIPSHOP.userHost+"/login?src="+encodeURIComponent(location.protocol+"//"+location.hostname+
location.pathname)})},submitFav:function(categoryId,brandName){$.ajax({url:"http://fav.myopen.vip.com/brand/brand_suggest",data:{c_id:categoryId,b_name:brandName},dataType:"jsonp",timeout:6E3,success:function(re){var toolTips=$("#J-myFav-toolTips"),warningTips=$("#J-myFav-fail-tip");if(re.code==0){$("#J-myFav-leftchance").html(re.data[0]);toolTips.removeClass("hidden").addClass("ui-tooltips-sucess");$("#J-choose-category a").attr("title","\u8bf7\u9009\u62e9\u5206\u7c7b").attr("_category","").html("\u8bf7\u9009\u62e9\u5206\u7c7b");
$("#J-myfav-brand").val("");$("#J-myfav-category-submit").addClass("ui-btn-disable")}else if(re.code==4){toolTips.removeClass("hidden").addClass("ui-tooltips-warning");warningTips.html("\u63d0\u4ea4\u5931\u8d25\uff0c\u4f60\u5df2\u63d0\u4ea4\u4e8610\u6b21")}else{toolTips.removeClass("hidden").addClass("ui-tooltips-warning");warningTips.html("\u63d0\u4ea4\u5931\u8d25")}nsFavTips.movTips&&clearTimeout(nsFavTips.movTips);nsFavTips.movTips=setTimeout(function(){if(toolTips.hasClass("ui-tooltips-sucess"))toolTips.removeClass("ui-tooltips-sucess").addClass("hidden");
else toolTips.removeClass("ui-tooltips-warning").addClass("hidden")},3E3)}})},checkBrand:function(){var brandVal=$("#J-myfav-brand").val(),toolTips=$("#J-myFav-toolTips");if($("#J-myfav-category-submit").hasClass("ui-btn-disable"))return false;if(brandVal==""||brandVal.length>40)$("#J-myFav-toolTips").removeClass("hidden").addClass("ui-tooltips-warning");if(brandVal==""){$("#J-myFav-fail-tip").html("\u8bf7\u586b\u5199\u4f60\u60f3\u8981\u7684\u54c1\u724c");nsFavTips.movTips&&clearTimeout(nsFavTips.movTips);
nsFavTips.movTips=setTimeout(function(){toolTips.removeClass("ui-tooltips-warning").addClass("hidden")},3E3);return false}if(brandVal.length>40){$("#J-myFav-fail-tip").html("\u54c1\u724c\u540d\u79f0\u957f\u5ea6\u4e0d\u5141\u8bb8\u8d85\u8fc740");nsFavTips.movTips&&clearTimeout(nsFavTips.movTips);nsFavTips.movTips=setTimeout(function(){toolTips.removeClass("ui-tooltips-warning").addClass("hidden")},3E3);return false}return true}};var nsVTM={init:function(){VTMHelper.init(VTMHelper.pageIds.teIndex)}};
var nsFooter={eventId:null,loading:false,$footerArea:null,$window:null,init:function(){var $footerArea=$("#J-footerArea");if(!$footerArea.length)return;this.$footerArea=$footerArea;this.$window=$(window);this.addEvent()},destroy:function(){this.removeEvent();this.eventId=this.loading=this.$footerArea=this.$window=null},addEvent:function(){var self=this;self.eventId=scrollMod.add(function(data){self.determine(data.y,data.down)})},removeEvent:function(){scrollMod.remove(this.eventId)},determine:function(y,
down){if(!this.loading&&this.$window.height()+y>this.$footerArea.offset().top-200){this.createFooter();$("#J-bgBottom").addClass("s_bg_bottom")}},createFooter:function(){var self=this;self.loading=true;$.ajax({url:"http://common.vip.com/?type=footer&comscore=0&loadga=0&loadmars=0",dataType:"jsonp",jsonpCallback:"getFooter",cache:true,timeout:6E3,success:function(re){self.$footerArea.replaceWith(re);self.destroy()},complete:function(){self.loading=false}})}};var loadState={timeout:null,init:function(){var self=
this,sample=new Image,checkComplete;if(sample){checkComplete="readyState"in sample&&function(target){var readyState=target.readyState;return readyState==="complete"||readyState==="loaded"}||"complete"in sample&&function(target){return target.complete&&!!target.naturalWidth};sample=null;self.timeout=setTimeout(function(){var i=0,imgs=document.getElementsByTagName("img"),len=imgs.length,completes=0;for(;i<len;i++)if(checkComplete(imgs[i]))completes++;self.destroy();if(len!==completes)$.Listeners.pub("index.third").success()},
2E3)}},destroy:function(){clearTimeout(this.timeout);this.timeout=null}};$(function(){var __start;$("body").on("click","a",function(e){var $this=$(this);if(!$.trim($this.attr("href")))e.preventDefault()});$(window).on("resize.blockChange",function(){var $body=$("body");if($(document.body).outerWidth()>1440)$body.addClass("w1170");else $body.removeClass("w1170")}).trigger("resize.blockChange");getTmpData.init();nsAdsMod.init();nsBrandList.init();nsPms.init();nsMyFavBrand.init();nsFloatNav.init();nsPreciseProduct.init();
$(window).on("load",function(){__start=+new Date});$.Listeners.sub("ready.second").onsuccess(function(){loadState.init();$.Listeners.sub("ready.third").onsuccess(function(){loadState.destroy();$.Listeners.pub("index.third").success()})});$.Listeners.sub("index.third").onsuccess(function(){var gap=__start?new Date-__start:0;$.Listeners.unsub("index.third").success();nsVTM.init();if(gap>1E3)$.Listeners.pub("index.four").success();else setTimeout(function(){$.Listeners.pub("index.four").success()},1E3-
gap)});$.Listeners.sub("index.four").onsuccess(function(){userPhone.init();nsFavTips.init();nsVIPCOM.init();nsVouchers.init();nsUserAdSense.init();$.ajax({url:VIPSHOP.staticJs.replace(/\/js(?![a-zA-Z0-9])/,"/html")+"/te/index.js?v="+VIPTE.jsVer,dataType:"jsonp",jsonpCallback:"html_te_index_js",cache:true,timeout:3E3,success:function(re){$("body").append(re);nsSubscribe.init()}})});$.Listeners.sub("ready.five").onsuccess(function(){nsFooter.init()})})},{"../../plugins/modules/VTM":1,"../../shop/asynFire.js":2,
"./modules/Scroll/LazyDomHelper":7,"./modules/ScrollListener.js":6,"./modules/UserPhoneMod.js":10,"./modules/browserMod.js":11,"./modules/favBrandMod.js":12,"./modules/loadInView.js":13,"./modules/nsUserAdSense":14,"./modules/responsiveMod.js":15}],6:[function(require,module,exports){var asynFire=require("../../../shop/asynFire.js");var idPf=Math.random().toString(36).substr(2).substr(0,4)+"_",guid=1;var ScrollListener={nX:0,nY:0,change:false,wW:0,interval:0,resizeTimeout:0,eventId:".scrollListener",
inited:false,lazy:300,list:{},add:function(callback){var id,$window=$(window);if($.isFunction(callback)){if(!this.inited)this._init();id=idPf+guid++;this.list[id]=callback;asynFire(function(){callback({x:$window.scrollLeft(),y:$window.scrollTop(),right:true,down:true})});return id}return false},remove:function(id){var list=this.list;if(list[id]){list[id]=null;delete list[id];return true}return false},fire:function(x,y,right,down){var list=this.list,i,data={x:typeof x==="number"?x:$(window).scrollLeft(),
y:typeof y==="number"?y:$(window).scrollTop(),right:typeof right==="boolean"?right:true,down:typeof down==="boolean"?down:true};for(i in list)list[i](data);return this},setLazy:function(time){this.lazy=time;if(this.inited)this._removeInterval()._addInterval();return this},_init:function(){if(this.inited)return this;this.wW=$(window).width();this._addEvent()._addInterval();this.inited=true;return this},_determine:function(){var $window,oX,oY,nX,nY;if(this.change){this.change=false;$window=$(window);
oX=this.nX;oY=this.nY;nX=$window.scrollLeft();nY=$window.scrollTop();this.fire(nX,nY,nX>oX,nY>oY);this.nX=nX;this.nY=nY}},_resizeHandle:function(){var self=this;clearTimeout(self.resizeTimeout);self.resizeTimeout=setTimeout(function(){var $window=$(window),wW=self.wW,nWw=$window.width(),nX=$window.scrollLeft(),nY=$window.scrollTop();self.nX=nX;self.nY=nY;self.wW=nWw;self.fire(nX,nY,nWw>wW,nWw>wW)},200)},_addEvent:function(){var self=this;$(window).on("scroll"+self.eventId,function(e){self.change=
true}).on("resize"+self.eventId,function(e){self._resizeHandle()});return this},_removeEvent:function(){$(window).off(this.eventId);return this},_addInterval:function(){var self=this;self.interval=setInterval(function(){self._determine()},self.lazy);return this},_removeInterval:function(){clearInterval(this.interval);this.interval=null;return this},destroy:function(){this._removeEvent()._removeInterval();this.inited=false;this.list={};return this}};module.exports=ScrollListener},{"../../../shop/asynFire.js":2}],
7:[function(require,module,exports){var scrollMod=require("./ScrollListener.js");(function($){var LazyDomHelper=function(param){return this.init(param)};$.extend(LazyDomHelper.prototype,{config:{$dom:null,preHeight:200,loadingFn:null},eventId:null,loading:false,init:function(opt){var self=this;this.config=$.extend({},this.config,opt);this.$window=$(window);this.addEvent();self.cb();setTimeout(function(){self.cb()},500)},cb:function(){var self=this,domTop=this.config.$dom.offset().top,winTop=this.$window.scrollTop(),
winHeight=this.$window.height(),preHeight=this.config.preHeight,domHeight=this.config.$dom.height();if(domTop-preHeight<=winTop&&domTop+domHeight+preHeight>=winTop+winHeight||(domTop>winTop-preHeight&&domTop<=winTop+winHeight+preHeight||domTop>winTop-domHeight-preHeight&&domTop<winTop+winHeight-domHeight)){if(domTop+domHeight>winTop&&winTop+300>domTop)self.pos=true;else self.pos=false;self.config.loadingFn(self)}},destroy:function(){this.removeEvent();this.eventId=this.loading=this.config.$dom=this.$window=
null},addEvent:function(){var self=this;self.eventId=scrollMod.add(function(data){self.determine(data.y,data.down)})},removeEvent:function(){scrollMod.remove(this.eventId)},determine:function(y,down){var self=this;!this.loading&&self.cb()}});module.exports=LazyDomHelper})(jQuery)},{"./ScrollListener.js":8}],8:[function(require,module,exports){var asynFire=require("./asynFire.js");var idPf=Math.random().toString(36).substr(2).substr(0,4)+"_",guid=1;var ScrollListener={nX:0,nY:0,change:false,wW:0,interval:0,
resizeTimeout:0,eventId:".scrollListener",inited:false,lazy:300,list:{},add:function(callback){var id,$window=$(window);if($.isFunction(callback)){if(!this.inited)this._init();id=idPf+guid++;this.list[id]=callback;asynFire(function(){callback({x:$window.scrollLeft(),y:$window.scrollTop(),right:true,down:true})});return id}return false},remove:function(id){var list=this.list;if(list[id]){list[id]=null;delete list[id];return true}return false},fire:function(x,y,right,down){var list=this.list,i,data=
{x:typeof x==="number"?x:$(window).scrollLeft(),y:typeof y==="number"?y:$(window).scrollTop(),right:typeof right==="boolean"?right:true,down:typeof down==="boolean"?down:true};for(i in list)list[i](data);return this},setLazy:function(time){this.lazy=time;if(this.inited)this._removeInterval()._addInterval();return this},_init:function(){if(this.inited)return this;this.wW=$(window).width();this._addEvent()._addInterval();this.inited=true;return this},_determine:function(){var $window,oX,oY,nX,nY;if(this.change){this.change=
false;$window=$(window);oX=this.nX;oY=this.nY;nX=$window.scrollLeft();nY=$window.scrollTop();this.fire(nX,nY,nX>oX,nY>oY);this.nX=nX;this.nY=nY}},_resizeHandle:function(){var self=this;clearTimeout(self.resizeTimeout);self.resizeTimeout=setTimeout(function(){var $window=$(window),wW=self.wW,nWw=$window.width(),nX=$window.scrollLeft(),nY=$window.scrollTop();self.nX=nX;self.nY=nY;self.wW=nWw;self.fire(nX,nY,nWw>wW,nWw>wW)},200)},_addEvent:function(){var self=this;$(window).on("scroll"+self.eventId,
function(e){self.change=true}).on("resize"+self.eventId,function(e){self._resizeHandle()});return this},_removeEvent:function(){$(window).off(this.eventId);return this},_addInterval:function(){var self=this;self.interval=setInterval(function(){self._determine()},self.lazy);return this},_removeInterval:function(){clearInterval(this.interval);this.interval=null;return this},destroy:function(){this._removeEvent()._removeInterval();this.inited=false;this.list={};return this}};module.exports=ScrollListener},
{"./asynFire.js":9}],9:[function(require,module,exports){module.exports=require(2)},{}],10:[function(require,module,exports){var userPhone={phoneNum:null,loading:false,init:function(){var self=this;this.inputs=[];$.Listeners.sub("userPhone").onsuccess(function(data){self.tips(data.target)})},loadPhoneNum:function(){var self=this;if(!$.Cookie.get("VipLID")||self.loading)return;self.loading=true;$.ajax({url:"http://myi.vip.com/jsonp/api/phone/phone_number",dataType:"jsonp",success:function(data){self.loading=
false;if(data.code==200&&data.data){self.phoneNum=data.data;self.tips()}},error:function(){self.loading=false}})},tips:function($input){var inputs=this.inputs,phoneNum=this.phoneNum,i,item;$input&&inputs.push($input);if(!phoneNum)this.loadPhoneNum();else{i=inputs.length-1;while(item=inputs[i--])item.val(phoneNum).trigger("keyup");this.inputs=[]}}};module.exports=userPhone},{}],11:[function(require,module,exports){var browserMod=function(){var _window=window,_document=document,div=_document.createElement("div"),
style=div.style,animationNames=["animation","WebkitAnimation","OAnimation","msAnimation","MozAnimation"],animationName=function(){var i=0,len=animationNames.length,name,n;for(;i<len;i++){name=animationNames[i];if(style[name]!==n)return name}return false}(),aniEndName={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",MozAnimation:"mozAnimationEnd"}[animationName],support={touch:"ontouchstart"in div||_window.DocumentTouch&&_document instanceof
_window.DocumentTouch,orientation:"onorientationchange"in _window&&typeof _window.orientation!=="undefined",resize:"onresize"in _window,animation:!!aniEndName};_window=_document=div=style=animationName=animationNames=null;return{isMobile:support.touch&&support.orientation,spTouch:support.touch,spOrientation:support.orientation,spResize:support.resize,spAnimation:support.animation,aniEndName:aniEndName}}();module.exports=browserMod},{}],12:[function(require,module,exports){var browserMod=require("./browserMod.js"),
favBrandUtil=require("../../../shop/favBrandUtil.js"),isMobile=VIPSHOP.Detect.mobile,isIE6=VIPSHOP.Detect.isIE6;var nsMyFavBrand={myFav:[],timer:null,likeIco:$("#J_brand"),likeLocalData:null,addedLocal:0,ajaxTmp:{},init:function(){$.Listeners.sub("loginSuccess").onsuccess(function(){favBrandUtil.active("getSnList","",function(code,data,re){if(code==200){nsMyFavBrand.myFav=nsMyFavBrand.myFav.concat(data);nsMyFavBrand.liked_action();$.Listeners.pub("favBrand.get.asyn").success(re)}});nsMyFavBrand.likeLocalData=
$.Storage.get("loginAddLike");if(!!nsMyFavBrand.likeLocalData){if($(".J_myFavBrand_"+nsMyFavBrand.likeLocalData.store_sn).length>0)$(".J_myFavBrand_"+nsMyFavBrand.likeLocalData.store_sn+":eq(0)").show().trigger("click");else nsMyFavBrand.likeLocalData.stop&&$("html,body").animate({scrollTop:nsMyFavBrand.likeLocalData.stop},400,function(){if(!nsMyFavBrand.addedLocal){$(".J_myFavBrand_"+nsMyFavBrand.likeLocalData.store_sn).length>0&&$(".J_myFavBrand_"+nsMyFavBrand.likeLocalData.store_sn+":eq(0)").show().trigger("click");
nsMyFavBrand.addedLocal=1}});$.Storage.remove("loginAddLike")}});$(".J_myFavBrand_").remove();this.addEvent();this.subEvent()},subEvent:function(){var _this=this;$.Listeners.sub("indexTmp.get.success").onsuccess(function(data){_this.ajaxTmp["loginAddLikeTip"]=data["loginAddLikeTip"]})},addEvent:function(){$(document).on({click:function(e){var that=$(this);var id=that.data("sn");e.preventDefault();if($.Cookie.get("VipLID"))if(!that.hasClass("z-fav-liked"))nsMyFavBrand.addMyFav(id,that);else nsMyFavBrand.removeMyFav(id,
that);else{nsMyFavBrand.addLikelocal(id);location.href=VIPSHOP.userHost+"/login?src="+encodeURIComponent(location.protocol+"//"+location.hostname+location.pathname)}},mouseenter:function(){clearTimeout(nsMyFavBrand.timer);$(this).siblings(".J_sucAddFav_tips").show()},mouseleave:function(){clearTimeout(nsMyFavBrand.timer);var obj=$(this);nsMyFavBrand.timer=setTimeout(function(){obj.siblings(".J_sucAddFav_tips").hide()},500)}},".J_myFav_tag");$(document).on({click:function(e){var that=$(this),id=that.data("sn");
if(that.hasClass("z-fav-liked"))nsMyFavBrand.removeMyFav(id,that)}},".J_btn_fav_cancel");$(".J_proPic_wrap, #J_hotsell_wrap, #J_coming_wrap").delegate(".J_sucAddFav_tips",{mouseenter:function(){clearTimeout(nsMyFavBrand.timer)},mouseleave:function(){clearTimeout(nsMyFavBrand.timer);var obj=$(this);nsMyFavBrand.timer=setTimeout(function(){obj.hide()},500)}});isMobile&&(browserMod.aniEndName&&$(window).on(browserMod.aniEndName+".sfavAniEnd",function(e){var $target=$(e.target);$target.hasClass("J-sLikedAni")&&
$target.remove()}))},addLikelocal:function(id){var data={};data.store_sn=id;data.brand_name=$("#J_brandName_"+id).html();data.stop=$(window).scrollTop();$.Storage.set("loginAddLike",data)},addMyFav:function(sn,$el){var $this=$el;favBrandUtil.active("addBrand",{brand_sn:sn},function(code,data){if(code==200){if(!isIE6){$.Listeners.pub("sidebar.clear.myFavBrandStorage").success();nsMyFavBrand.favAnimate($this,sn)}$this.addClass("z-fav-liked");if($this.closest("#J_todayBrandList").length)$this.attr("mars_sead",
"m_shop_banner_dislike_button");if($this.closest("#J_hotsellBrandList").length||$this.closest("#J_comingBrandList").length)$this.attr("mars_sead","m_shop_s_dislike_button")}else if(code==203){nsMyFavBrand.liked_action($this,203);setTimeout(function(){$this.siblings(".J_liked_tips").hide("slow")},1500)}else if(code==299)location.href=VIPSHOP.userHost+"/login?src="+encodeURIComponent(location.protocol+"//"+location.hostname+location.pathname);else nsMyFavBrand.fail_fav_action("\u6536\u85cf\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\u3002")})},
removeMyFav:function(sn,$el){var $this=$el;favBrandUtil.active("rmBrand",{brand_sn:sn,timeout:4E3},function(code,data){if(code==200){if(!isIE6)$.Listeners.pub("sidebar.clear.myFavBrandStorage").success();$this.removeClass("z-fav-liked");if($this.closest("#J_todayBrandList").length)$this.attr("mars_sead","m_shop_banner_like_button");if($this.closest("#J_hotsellBrandList").length||$this.closest("#J_comingBrandList").length)$this.attr("mars_sead","m_shop_s_like_button");var getLoginAddLike=$.Storage.get("loginAddLike");
if(getLoginAddLike){$.Storage.remove("loginAddLike");nsMyFavBrand.likeLocalData=null}}else if(code==299)location.href=VIPSHOP.userHost+"/login?src="+encodeURIComponent(location.protocol+"//"+location.hostname+location.pathname);else nsMyFavBrand.fail_fav_action("\u53d6\u6d88\u6536\u85cf\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\u3002")})},fail_fav_action:function(tips){var _this=this;if($("#J_addLikeTopTip").length==0)$("body").append(_this.ajaxTmp["loginAddLikeTip"]);var addTopTip=$("#J_addLikeTopTip"),
height=addTopTip.height(),tipTop=parseInt(addTopTip.css("top").replace("px",""));if(tipTop==-height)addTopTip.css("top",0).animate({top:0},300,function(){setTimeout(function(){addTopTip.animate({top:-height})},3E3)});$("#J_loginAddLikeTip_text").html(tips);addTopTip.find("a").remove().css("top",-height).animate({top:0},300,function(){setTimeout(function(){addTopTip.animate({top:-height})},3E3)})},liked_action:function(objs,cbStatus){var _this=this;if(objs){if(objs.hasClass("hidden"))objs.removeClass("J_myFav_tag").addClass("z-fav-liked J_btn_fav_cancel");
else objs.addClass("z-fav-liked");if(objs.closest("#J_todayBrandList").length)objs.attr("mars_sead","m_shop_banner_dislike_button");if(objs.closest("#J_hotsellBrandList").length||objs.closest("#J_comingBrandList").length)objs.attr("mars_sead","m_shop_s_dislike_button");if(!nsMyFavBrand.likeLocalData)if(objs.parents("#J_coming_wrap").length)$.Listeners.pub("sidebar.display.brandShow").success({flag:true});else $.Listeners.pub("sidebar.display.brandShow").success();else{$("body").append(_this.ajaxTmp["loginAddLikeTip"]);
var addTopTip=$("#J_addLikeTopTip"),height=addTopTip.height();if(cbStatus==203){$("#J_loginAddLikeTip_text").html(addLikeToptip["added"]);$("#J_addLikeTopTip a").attr("mars_sead","m_shop_main_like_link2")}else $("#J_loginAddLikeTip_text").html(addLikeToptip["sucAdd"].replace("{$brand_name}",nsMyFavBrand.likeLocalData.brand_name));addTopTip.css("top",-height).animate({top:0},300,function(){setTimeout(function(){addTopTip.animate({top:-height})},3E3)});$.Storage.remove("loginAddLike");nsMyFavBrand.likeLocalData=
null}}else{var myFavs=[];for(var i=0,len=nsMyFavBrand.myFav.length;i<len;i++){var obj=$(".J_myFavBrand_"+nsMyFavBrand.myFav[i]);obj.addClass("z-fav-liked");if(obj.closest("#J_todayBrandList").length)obj.attr("mars_sead","m_shop_banner_dislike_button");if(obj.closest("#J_hotsellBrandList").length||obj.closest("#J_comingBrandList").length)obj.attr("mars_sead","m_shop_s_dislike_button")}}},favAnimate:null};if(!isMobile)nsMyFavBrand.favAnimate=function($target){if($target.closest("#J_coming_wrap").length)$.Listeners.pub("sidebar.fly.myBrand").success({target:$target,
flag:true});else $.Listeners.pub("sidebar.fly.myBrand").success({target:$target})};else nsMyFavBrand.favAnimate=function($target){var offset=$target.offset();$target.append($("#J-mbLikedTpl").html())};module.exports=nsMyFavBrand},{"../../../shop/favBrandUtil.js":3,"./browserMod.js":11}],13:[function(require,module,exports){var scrollMod=require("./ScrollListener.js"),offsetMod=require("../../../shop/offsetListener.js");!function(){$.fn.loadInView=function(options){var selectorClass,dataAttribute,
threshold;options=$.extend({selectorClass:"J-viewLazy",dataAttribute:"original",threshold:0},options);selectorClass=options.selectorClass;dataAttribute=options.dataAttribute;threshold=options.threshold;this.each(function(){var $container=$(this),eventId,osEventId=$container.data("osEventId");$container.destroyLoadInView();if(osEventId)offsetMod.remove(osEventId);function undate(status){var $window=$(window),sX=status.x,sY=status.y,wW=$window.width(),wH=$window.height(),pOffset=$container.offset(),
tW=$container.width(),tH=$container.height(),pLeft=pOffset.left,pTop=pOffset.top,pWidth=sX+wW-pLeft,pHeight=sY+wH-pTop;if(pWidth>tW)pWidth=tW;if(pHeight>tH)pHeight=tH;pWidth+=threshold;pHeight+=threshold;$container.find("."+selectorClass).each(function(){var $this=$(this),original=$this.data(dataAttribute),offset,left,top,width,height;if($this.is(":visible")&&original){offset=$this.offset();left=offset.left;top=offset.top;width=$this.width();height=$this.height();if(isInView(left,top,width,height,
pLeft,pTop,pWidth,pHeight,sX,sY))$this.attr("src",original).removeClass(selectorClass)}})}eventId=scrollMod.add(function(status){undate(status)});osEventId=offsetMod.add($container,function(){var $window=$(window);undate({x:$window.scrollLeft(),y:$window.scrollTop()})});$container.data("osEventId",osEventId);$container.data("loadInViewId",eventId)});return this};$.fn.destroyLoadInView=function(){this.each(function(){var $target=$(this),eventId=$target.data("loadInViewId");if(eventId)scrollMod.remove(eventId)});
return this};function isInView(left,top,width,height,pLeft,pTop,pWidth,pHeight,sX,sY){var xArea=left+width,yArea=top+height;return xArea>pLeft&&(xArea>sX&&(left<pLeft+pWidth&&(yArea>pTop&&(yArea>sY&&top<pTop+pHeight))))}}()},{"../../../shop/offsetListener.js":4,"./ScrollListener.js":6}],14:[function(require,module,exports){var nsUserAdSense={countdown_timer:null,init:function(){var $JcBanner=$("#J-coundown-banner");if($JcBanner.length>0&&between7to10!="0")$.Listeners.sub("indexTmp.get.success").onsuccess(function(reIndex){$JcBanner.replaceWith(reIndex["shopIndexTime"]);
$("#J-coundown-img").attr("src",$("#J-coundown-img").data("original")).closest("div.shop-title").fadeIn()});if(typeof window.isAfter20=="undefined")isAfter20=0;isAfter20=isAfter20-0;var rule1=typeof window.isRemindClose=="undefined";var rule2=$("#J_countDown_hour").length>0||isAfter20;if(rule2){var serverTime=new Date/1E3;var time=new Date;var year=time.getFullYear();var moth=time.getMonth();var date=time.getDate();var endTime=parseInt((new Date(year,moth,date,10)).getTime()/1E3);if(!!isAfter20)endTime=
parseInt((new Date(year,moth,date,20)).getTime()/1E3);nsUserAdSense.countdown_timer=$.Listeners.sub("interval.1000").onsuccess(function(){var leftTime=nsUserAdSense.bannerCountdown(serverTime,endTime);if(leftTime){serverTime+=1;$("#J_countDown_hour").html(leftTime.hour);$("#J_countDown_min").html(leftTime.minute);$("#J_countDown_sec").html(leftTime.second)}else{if(between7to10!="0"){$("#J-shop-title-cdEnd").find("img").attr("src",$("#J-shop-title-cdEnd").find("img").data("original")).end().show();
$("#J-shop-title-coundown").hide()}$.Listeners.unsub("interval.1000").success(nsUserAdSense.countdown_timer);leftTime={hour:0,minute:"00",second:"00"};if(rule1){var now_str=year+"-"+(moth+1)+"-"+date;var storage_key=!isAfter20?"new_tips":"new_tips_20";var storage_date=$.Storage.get(storage_key);if(!storage_date||storage_date!=now_str)$.Listeners.sub("indexTmp.get.success").onsuccess(function(reIndex){$("body").append(reIndex["onsaleNotice"]);var jqRefreshWin=$("#J_refresh_win");var jqRefreshWinImg=
$("#J_refresh_win_img");jqRefreshWinImg.attr("src",!isAfter20?jqRefreshWinImg.data("am10"):jqRefreshWinImg.data("pm8"));jqRefreshWin.show().animate({bottom:120},500);$.Listeners.sub("sbarWrap").onsuccess(function(data){if(data.open)jqRefreshWin.addClass("onsale-notice-tips-show");else jqRefreshWin.removeClass("onsale-notice-tips-show")});$.Storage.set(storage_key,now_str)})}}});$(document).on("click","#J_refresh_tips_close",function(){$("#J_refresh_win").animate({bottom:-195},500)})}},bannerCountdown:function(timestamp,
endTime){var rt={};var serverTime=timestamp;var leftsecond=endTime-serverTime;if(leftsecond<=0)return false;rt.hour=Math.floor(leftsecond/3600);rt.hour=rt.hour>9?rt.hour:"0"+rt.hour;rt.minute=Math.floor((leftsecond-rt.hour*3600)/60);rt.minute=rt.minute>9?rt.minute:"0"+rt.minute;rt.second=Math.floor(leftsecond-rt.hour*3600-rt.minute*60);rt.second=rt.second>9?rt.second:"0"+rt.second;return rt}};module.exports=nsUserAdSense},{}],15:[function(require,module,exports){var browserMod=require("./browserMod.js"),
oTcCbs={},resizeCbs={},eventName=".responsiveMod_"+Math.random().toString(36).substr(2).substr(0,4),guid=1;function queueInit(){oTcCbs={name:"o",callbacks:{}};resizeCbs={name:"r",callbacks:{}}}function createCbAddFunc(){var self=responsiveMod,args=[].slice.call(arguments);return function(callback,run){var status,eventIds=[],i=0,len=args.length,item;if(!$.isFunction(callback))run=[callback,callback=run][0];if(!$.isFunction(callback))return false;for(;i<len;i++){item=args[i];item.callbacks[guid]=callback;
eventIds[eventIds.length]=item.name+":"+guid++}run&&callback(self.getStatus());return eventIds.join("|")}}var responsiveMod={timeout:0,inited:false,init:function(){if(this.inited)return this;this.addEvent();this.inited=true;return this},destroy:function(){queueInit();this.removeEvent();this.inited=false;return this},addEvent:function(options){var self=this,events=[browserMod.spResize?"resize"+eventName:"",browserMod.spOrientation?"orientationchange"+eventName:""];$(window).on(events.join(" "),function(e){self.timeout&&
clearTimeout(self.timeout);self.timeout=setTimeout(function(){self.handle(e.type);self.timeout=null},200)})},removeEvent:function(){$(window).off(eventName)},add:null,resize:null,oTchange:null,remove:function(eventIds){eventIds=(eventIds||"").split("|");if(!eventIds[0])return false;var hash={o:oTcCbs.callbacks,r:resizeCbs.callbacks},i=0,len=eventIds.length,item,callbacks,result=true;for(;i<len;i++){item=eventIds[i].split(":");callbacks=hash[item[0]];result=callbacks&&(callbacks[item[1]]&&(delete callbacks[item[1]]&&
result))}return!!result},getStatus:function(){var _window=window;return{orientation:_window.orientation||0,width:$(_window).width(),type:null}},handle:function(type){var callbacks,hash={orientationchange:oTcCbs.callbacks,resize:resizeCbs.callbacks},status=this.getStatus();status.type=type;callbacks=hash[type]||{};for(i in callbacks)callbacks[i](status);return this}};queueInit();responsiveMod.add=createCbAddFunc(oTcCbs,resizeCbs);responsiveMod.resize=createCbAddFunc(resizeCbs);responsiveMod.oTchange=
createCbAddFunc(oTcCbs);createCbAddFunc=null;module.exports=responsiveMod},{"./browserMod.js":11}]},{},[5]);
